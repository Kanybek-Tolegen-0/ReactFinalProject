{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\ayaul\\\\OneDrive\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\\\ReactFinal\\\\ReactFinalProject\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _defineProperty from\"C:\\\\Users\\\\ayaul\\\\OneDrive\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\\\ReactFinal\\\\ReactFinalProject\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\defineProperty.js\";import _slicedToArray from\"C:\\\\Users\\\\ayaul\\\\OneDrive\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\\\ReactFinal\\\\ReactFinalProject\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _toConsumableArray from\"C:\\\\Users\\\\ayaul\\\\OneDrive\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\\\ReactFinal\\\\ReactFinalProject\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\toConsumableArray.js\";import{ADD_TO_FAVORITES,REMOVE_FROM_FAVORITES}from\"../config\";var checkLocalStorage=function checkLocalStorage(){return Object.assign.apply(Object,[{}].concat(_toConsumableArray(Object.entries(localStorage).map(function(_ref){var _ref2=_slicedToArray(_ref,2),id=_ref2[0],value=_ref2[1];return _defineProperty({},id,JSON.parse(value));}))));};var initialState={favorites:checkLocalStorage()};export var favoritesReducer=function favoritesReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_TO_FAVORITES:return _objectSpread(_objectSpread({},state),{},{favorites:_objectSpread(_objectSpread({},state.favorites),{},_defineProperty({},action.payload.id,action.payload))});case REMOVE_FROM_FAVORITES:return _objectSpread(_objectSpread({},state),{},{favorites:Object.keys(state.favorites).filter(function(item){return item!==action.payload.toString();}).reduce(function(object,item){return _objectSpread(_objectSpread({},object),{},_defineProperty({},item,state.favorites[item]));},{})});default:return state;}};","map":{"version":3,"sources":["C:/Users/ayaul/OneDrive/Документы/ReactFinal/ReactFinalProject/src/redux/favoritesReducer.js"],"names":["ADD_TO_FAVORITES","REMOVE_FROM_FAVORITES","checkLocalStorage","Object","assign","entries","localStorage","map","id","value","JSON","parse","initialState","favorites","favoritesReducer","state","action","type","payload","keys","filter","item","toString","reduce","object"],"mappings":"6zBAAA,OAASA,gBAAT,CAA2BC,qBAA3B,KAAwD,WAAxD,CAEA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC9B,MAAOC,CAAAA,MAAM,CAACC,MAAP,OAAAD,MAAM,EACX,EADW,4BAERA,MAAM,CAACE,OAAP,CAAeC,YAAf,EAA6BC,GAA7B,CAAiC,gDAAEC,EAAF,UAAMC,KAAN,oCACjCD,EADiC,CAC5BE,IAAI,CAACC,KAAL,CAAWF,KAAX,CAD4B,GAAjC,CAFQ,GAAb,CAMD,CAPD,CASA,GAAMG,CAAAA,YAAY,CAAG,CACnBC,SAAS,CAAEX,iBAAiB,EADT,CAArB,CAIA,MAAO,IAAMY,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAkC,IAAjCC,CAAAA,KAAiC,2DAAzBH,YAAyB,IAAXI,CAAAA,MAAW,2CAChE,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKjB,CAAAA,gBAAL,CACE,sCACKe,KADL,MAEEF,SAAS,gCAAOE,KAAK,CAACF,SAAb,wBAAyBG,MAAM,CAACE,OAAP,CAAeV,EAAxC,CAA6CQ,MAAM,CAACE,OAApD,EAFX,GAIF,IAAKjB,CAAAA,qBAAL,CACE,sCACKc,KADL,MAEEF,SAAS,CAAEV,MAAM,CAACgB,IAAP,CAAYJ,KAAK,CAACF,SAAlB,EACRO,MADQ,CACD,SAACC,IAAD,QAAUA,CAAAA,IAAI,GAAKL,MAAM,CAACE,OAAP,CAAeI,QAAf,EAAnB,EADC,EAERC,MAFQ,CAGP,SAACC,MAAD,CAASH,IAAT,wCAAwBG,MAAxB,wBAAiCH,IAAjC,CAAwCN,KAAK,CAACF,SAAN,CAAgBQ,IAAhB,CAAxC,IAHO,CAIP,EAJO,CAFb,GASF,QACE,MAAON,CAAAA,KAAP,CAjBJ,CAmBD,CApBM","sourcesContent":["import { ADD_TO_FAVORITES, REMOVE_FROM_FAVORITES } from \"../config\";\r\n\r\nconst checkLocalStorage = () => {\r\n  return Object.assign(\r\n    {},\r\n    ...Object.entries(localStorage).map(([id, value]) => ({\r\n      [id]: JSON.parse(value),\r\n    }))\r\n  );\r\n};\r\n\r\nconst initialState = {\r\n  favorites: checkLocalStorage(),\r\n};\r\n\r\nexport const favoritesReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_TO_FAVORITES:\r\n      return {\r\n        ...state,\r\n        favorites: { ...state.favorites, [action.payload.id]: action.payload },\r\n      };\r\n    case REMOVE_FROM_FAVORITES:\r\n      return {\r\n        ...state,\r\n        favorites: Object.keys(state.favorites)\r\n          .filter((item) => item !== action.payload.toString())\r\n          .reduce(\r\n            (object, item) => ({ ...object, [item]: state.favorites[item] }),\r\n            {}\r\n          ),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};"]},"metadata":{},"sourceType":"module"}