{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\ayaul\\\\OneDrive\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\\\ReactFinal\\\\ReactFinalProject\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\ayaul\\\\OneDrive\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\\\ReactFinal\\\\ReactFinalProject\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useRef}from'react';import{Link}from'react-router-dom';import'../stylesheets/SignUpPage.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SignUpPage(props){var username=useRef(\"\");var password=useRef(\"\");function signUp(_x){return _signUp.apply(this,arguments);}function _signUp(){_signUp=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _username$current,_password$current;var found,username_input,password_input,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();found=false;username_input=(_username$current=username.current)===null||_username$current===void 0?void 0:_username$current.value;password_input=(_password$current=password.current)===null||_password$current===void 0?void 0:_password$current.value;if(!(username_input.length>=4&&password_input.length>=4)){_context.next=13;break;}_context.next=7;return axios.get('https://reactfinal-b6792-default-rtdb.firebaseio.com/users.json').then(function(response){var users=response.data;for(var key in users){if(users[key].username===username_input&&!found){alert(\"Такой пользователь уже существует\");found=true;break;}}});case 7:if(!(found===false)){_context.next=11;break;}user={username:username_input,password:password_input};_context.next=11;return axios.post('https://reactfinal-b6792-default-rtdb.firebaseio.com/users.json',user).then(function(response){props.setUser(user);props.setLogged(true);alert(\"Регистрация прошла успешна\");});case 11:_context.next=14;break;case 13:if(username.current.value.length<4){alert(\"Слишком короткое имя\");}else if(password.current.value.length<4){alert(\"Ненадежный пароль! Введите больше 4 символов\");}case 14:case\"end\":return _context.stop();}}},_callee);}));return _signUp.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"signUpPage\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"signUpPage__title\",children:\"Sign Up Page\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"user-data\",children:[/*#__PURE__*/_jsx(\"input\",{required:true,ref:username,className:\"user-data__username\",type:\"text\",placeholder:\"username\"}),/*#__PURE__*/_jsx(\"input\",{required:true,ref:password,className:\"user-data__password\",type:\"password\",placeholder:\"password\"}),/*#__PURE__*/_jsx(\"button\",{onClick:signUp,className:\"sign-up-button\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"\\u0423\\u0436\\u0435 \\u0435\\u0441\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442?\"})]})]});}export default SignUpPage;","map":{"version":3,"sources":["C:/Users/ayaul/OneDrive/Документы/ReactFinal/ReactFinalProject/src/components/SignUpPage.js"],"names":["useRef","Link","axios","SignUpPage","props","username","password","signUp","e","preventDefault","found","username_input","current","value","password_input","length","get","then","response","users","data","key","alert","user","post","setUser","setLogged"],"mappings":"4ZAAA,OAASA,MAAT,KAAsB,OAAtB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,+BAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,QAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,CACvB,GAAMC,CAAAA,QAAQ,CAAGL,MAAM,CAAC,EAAD,CAAvB,CACA,GAAMM,CAAAA,QAAQ,CAAGN,MAAM,CAAC,EAAD,CAAvB,CAFuB,QAGRO,CAAAA,MAHQ,8HAGvB,iBAAsBC,CAAtB,uMACIA,CAAC,CAACC,cAAF,GACIC,KAFR,CAEgB,KAFhB,CAGUC,cAHV,oBAG2BN,QAAQ,CAACO,OAHpC,4CAG2B,kBAAkBC,KAH7C,CAIUC,cAJV,oBAI2BR,QAAQ,CAACM,OAJpC,4CAI2B,kBAAkBC,KAJ7C,MAKOF,cAAc,CAACI,MAAf,EAAuB,CAAvB,EAA4BD,cAAc,CAACC,MAAf,EAAuB,CAL1D,iDAMcb,CAAAA,KAAK,CAACc,GAAN,CAAU,iEAAV,EACLC,IADK,CACA,SAACC,QAAD,CAAc,CAChB,GAAMC,CAAAA,KAAK,CAAGD,QAAQ,CAACE,IAAvB,CACA,IAAI,GAAIC,CAAAA,GAAR,GAAeF,CAAAA,KAAf,CAAsB,CAClB,GAAGA,KAAK,CAACE,GAAD,CAAL,CAAWhB,QAAX,GAAwBM,cAAxB,EAA0C,CAACD,KAA9C,CAAqD,CACjDY,KAAK,CAAC,mCAAD,CAAL,CACAZ,KAAK,CAAG,IAAR,CACA,MACH,CACJ,CACJ,CAVK,CANd,aAkBWA,KAAK,GAAK,KAlBrB,2BAmBkBa,IAnBlB,CAmByB,CACTlB,QAAQ,CAAEM,cADD,CAETL,QAAQ,CAAEQ,cAFD,CAnBzB,wBAuBkBZ,CAAAA,KAAK,CAACsB,IAAN,CAAW,iEAAX,CACUD,IADV,EAEJN,IAFI,CAEC,SAAAC,QAAQ,CAAI,CACfd,KAAK,CAACqB,OAAN,CAAcF,IAAd,EACAnB,KAAK,CAACsB,SAAN,CAAgB,IAAhB,EACAJ,KAAK,CAAC,4BAAD,CAAL,CACH,CANK,CAvBlB,wCAiCQ,GAAGjB,QAAQ,CAACO,OAAT,CAAiBC,KAAjB,CAAuBE,MAAvB,CAA8B,CAAjC,CAAoC,CAChCO,KAAK,CAAC,sBAAD,CAAL,CACH,CAFD,IAGK,IAAIhB,QAAQ,CAACM,OAAT,CAAiBC,KAAjB,CAAuBE,MAAvB,CAA8B,CAAlC,CAAoC,CACrCO,KAAK,CAAC,8CAAD,CAAL,CACH,CAtCT,uDAHuB,yCA4CvB,mBACI,aAAK,SAAS,CAAC,YAAf,wBACA,WAAI,SAAS,CAAC,mBAAd,0BADA,cAEA,cAAM,SAAS,CAAC,WAAhB,wBACI,cAAO,QAAQ,KAAf,CAAgB,GAAG,CAAEjB,QAArB,CAA+B,SAAS,CAAC,qBAAzC,CAA+D,IAAI,CAAC,MAApE,CAA2E,WAAW,CAAC,UAAvF,EADJ,cAEI,cAAO,QAAQ,KAAf,CAAgB,GAAG,CAAEC,QAArB,CAA+B,SAAS,CAAC,qBAAzC,CAA+D,IAAI,CAAC,UAApE,CAA+E,WAAW,CAAC,UAA3F,EAFJ,cAGI,eAAQ,OAAO,CAAEC,MAAjB,CAAyB,SAAS,CAAC,gBAAnC,qBAHJ,cAII,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,qGAJJ,GAFA,GADJ,CAWH,CAED,cAAeJ,CAAAA,UAAf","sourcesContent":["import { useRef} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../stylesheets/SignUpPage.css';\r\nimport axios from 'axios';\r\n\r\nfunction SignUpPage(props) {\r\n    const username = useRef(\"\");\r\n    const password = useRef(\"\");\r\n    async function signUp(e) {\r\n        e.preventDefault();\r\n        let found = false;\r\n        const username_input = username.current?.value;\r\n        const password_input = password.current?.value;\r\n        if(username_input.length>=4 && password_input.length>=4) {\r\n            await axios.get('https://reactfinal-b6792-default-rtdb.firebaseio.com/users.json')\r\n            .then((response) => {\r\n                const users = response.data;\r\n                for(let key in users) {\r\n                    if(users[key].username === username_input && !found) {\r\n                        alert(\"Такой пользователь уже существует\");\r\n                        found = true;\r\n                        break;\r\n                    }\r\n                }\r\n            });\r\n\r\n            if(found === false) {\r\n                const user = {   \r\n                    username: username_input,\r\n                    password: password_input,\r\n                };\r\n                await axios.post('https://reactfinal-b6792-default-rtdb.firebaseio.com/users.json',\r\n                                user\r\n                ).then(response => {\r\n                    props.setUser(user);\r\n                    props.setLogged(true);\r\n                    alert(\"Регистрация прошла успешна\");\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            if(username.current.value.length<4) {\r\n                alert(\"Слишком короткое имя\");\r\n            }\r\n            else if (password.current.value.length<4){\r\n                alert(\"Ненадежный пароль! Введите больше 4 символов\");\r\n            }\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"signUpPage\">\r\n        <h1 className='signUpPage__title'>Sign Up Page</h1>\r\n        <form className=\"user-data\">\r\n            <input required ref={username} className=\"user-data__username\" type=\"text\" placeholder=\"username\"/>\r\n            <input required ref={password} className=\"user-data__password\" type=\"password\" placeholder=\"password\"/>\r\n            <button onClick={signUp} className=\"sign-up-button\">Sign Up</button>\r\n            <Link to=\"/login\">Уже есть аккаунт?</Link>\r\n        </form>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default SignUpPage;"]},"metadata":{},"sourceType":"module"}