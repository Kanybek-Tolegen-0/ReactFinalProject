{"ast":null,"code":"import'../stylesheets/TVShow.scss';import dateFormat from'dateformat';import{addToFavorites,removeFromFavorites}from\"../redux/favoritesActions\";import{useDispatch,useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function TVShow(props){var _props$tvShow=props.tvShow,id=_props$tvShow.id,name=_props$tvShow.name,overview=_props$tvShow.overview,vote_average=_props$tvShow.vote_average,first_air_date=_props$tvShow.first_air_date,poster_path=_props$tvShow.poster_path,backdrop_path=_props$tvShow.backdrop_path,origin_country=_props$tvShow.origin_country;var dispatch=useDispatch();var favorites=useSelector(function(state){return state.favoriteStore.favorites;});var isFavorite=(id in favorites);var isValidOverview=overview.length!=0&&overview.length<357;var isStored=function isStored(value){if(value){dispatch(removeFromFavorites(props.tvShow));}else{dispatch(addToFavorites(props.tvShow));}};return/*#__PURE__*/_jsx(_Fragment,{children:isValidOverview?/*#__PURE__*/_jsxs(\"div\",{className:\"tvshow_card\",id:\"tv\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info_section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tvshow_header\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"poster\",src:\"https://image.tmdb.org/t/p/w342\".concat(poster_path)}),/*#__PURE__*/_jsx(\"h1\",{children:name}),/*#__PURE__*/_jsx(\"h4\",{children:dateFormat(first_air_date,\"yyyy\")}),/*#__PURE__*/_jsx(\"span\",{className:\"country\",children:origin_country[0]}),/*#__PURE__*/_jsxs(\"p\",{className:\"vote\",children:[vote_average,\" \\u2605\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tvshow_desc\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text\",children:overview})}),/*#__PURE__*/_jsx(\"div\",{className:\"tvshow_fav\",children:/*#__PURE__*/_jsx(\"button\",{className:\"add-to-fav\",onClick:function onClick(){isStored(isFavorite);},children:isFavorite?\"Remove from favorites\":\"Add to favorites\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"blur_back\",style:{backgroundImage:\"url(https://image.tmdb.org/t/p/original\".concat(backdrop_path,\")\"),width:800,height:400}})]}):/*#__PURE__*/_jsx(_Fragment,{})});}","map":{"version":3,"sources":["C:/Users/ayaul/OneDrive/Документы/ReactFinal/ReactFinalProject/src/components/TVShow.js"],"names":["dateFormat","addToFavorites","removeFromFavorites","useDispatch","useSelector","TVShow","props","tvShow","id","name","overview","vote_average","first_air_date","poster_path","backdrop_path","origin_country","dispatch","favorites","state","favoriteStore","isFavorite","isValidOverview","length","isStored","value","backgroundImage","width","height"],"mappings":"AAAA,MAAO,4BAAP,CACA,MAAOA,CAAAA,UAAP,KAAuB,YAAvB,CACA,OACIC,cADJ,CAEIC,mBAFJ,KAGS,2BAHT,CAIA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,C,6IAEA,cAAe,SAASC,CAAAA,MAAT,CAAgBC,KAAhB,CAAuB,CAClC,kBASIA,KAAK,CAACC,MATV,CACIC,EADJ,eACIA,EADJ,CAEIC,IAFJ,eAEIA,IAFJ,CAGIC,QAHJ,eAGIA,QAHJ,CAIIC,YAJJ,eAIIA,YAJJ,CAKIC,cALJ,eAKIA,cALJ,CAMIC,WANJ,eAMIA,WANJ,CAOIC,aAPJ,eAOIA,aAPJ,CAQIC,cARJ,eAQIA,cARJ,CAWA,GAAMC,CAAAA,QAAQ,CAAGb,WAAW,EAA5B,CACA,GAAMc,CAAAA,SAAS,CAAGb,WAAW,CAAC,SAACc,KAAD,QAAWA,CAAAA,KAAK,CAACC,aAAN,CAAoBF,SAA/B,EAAD,CAA7B,CACA,GAAMG,CAAAA,UAAU,EAAGZ,EAAE,GAAIS,CAAAA,SAAT,CAAhB,CACA,GAAMI,CAAAA,eAAe,CAAGX,QAAQ,CAACY,MAAT,EAAmB,CAAnB,EAAwBZ,QAAQ,CAACY,MAAT,CAAkB,GAAlE,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,CACxB,GAAIA,KAAJ,CAAW,CACXR,QAAQ,CAACd,mBAAmB,CAACI,KAAK,CAACC,MAAP,CAApB,CAAR,CACC,CAFD,IAEO,CACPS,QAAQ,CAACf,cAAc,CAACK,KAAK,CAACC,MAAP,CAAf,CAAR,CACC,CACJ,CAND,CAQA,mBACI,yBACMc,eAAe,cACb,aAAK,SAAS,CAAC,aAAf,CAA6B,EAAE,CAAC,IAAhC,wBACI,aAAK,SAAS,CAAC,cAAf,wBACI,aAAK,SAAS,CAAC,eAAf,wBACI,YAAK,SAAS,CAAC,QAAf,CAAwB,GAAG,0CAAoCR,WAApC,CAA3B,EADJ,cAEI,oBAAKJ,IAAL,EAFJ,cAGI,oBAAKT,UAAU,CAACY,cAAD,CAAiB,MAAjB,CAAf,EAHJ,cAII,aAAM,SAAS,CAAC,SAAhB,UAA2BG,cAAc,CAAC,CAAD,CAAzC,EAJJ,cAKI,WAAG,SAAS,CAAC,MAAb,WAAqBJ,YAArB,aALJ,GADJ,cAQI,YAAK,SAAS,CAAC,aAAf,uBACI,UAAG,SAAS,CAAC,MAAb,UAAqBD,QAArB,EADJ,EARJ,cAWI,YAAK,SAAS,CAAC,YAAf,uBACI,eAAQ,SAAS,CAAC,YAAlB,CAA+B,OAAO,CAAE,kBAAM,CACtCa,QAAQ,CAACH,UAAD,CAAR,CACH,CAFL,UAEQA,UAAU,CAAG,uBAAH,CAA6B,kBAF/C,EADJ,EAXJ,GADJ,cAkBI,YAAK,SAAS,CAAC,WAAf,CAA2B,KAAK,CAAE,CAAEK,eAAe,kDAA4CX,aAA5C,KAAjB,CAA+EY,KAAK,CAAE,GAAtF,CAA2FC,MAAM,CAAE,GAAnG,CAAlC,EAlBJ,GADa,cAoBJ,kBArBjB,EADJ,CA0BH","sourcesContent":["import '../stylesheets/TVShow.scss';\r\nimport dateFormat from 'dateformat';\r\nimport {\r\n    addToFavorites,\r\n    removeFromFavorites,\r\n  } from \"../redux/favoritesActions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nexport default function TVShow(props) {\r\n    const { \r\n        id,\r\n        name,\r\n        overview,\r\n        vote_average,\r\n        first_air_date,\r\n        poster_path,\r\n        backdrop_path,\r\n        origin_country\r\n    } = props.tvShow;\r\n\r\n    const dispatch = useDispatch();\r\n    const favorites = useSelector((state) => state.favoriteStore.favorites);\r\n    const isFavorite = id in favorites;\r\n    const isValidOverview = overview.length != 0 && overview.length < 357;\r\n\r\n    const isStored = (value) => {\r\n        if (value) {\r\n        dispatch(removeFromFavorites(props.tvShow));\r\n        } else {\r\n        dispatch(addToFavorites(props.tvShow));\r\n        }\r\n    };\r\n\r\n    return (                \r\n        <>\r\n            { isValidOverview ?\r\n                <div className=\"tvshow_card\" id=\"tv\">\r\n                    <div className=\"info_section\">\r\n                        <div className=\"tvshow_header\">\r\n                            <img className=\"poster\" src={`https://image.tmdb.org/t/p/w342${poster_path}`} />\r\n                            <h1>{name}</h1>\r\n                            <h4>{dateFormat(first_air_date, \"yyyy\")}</h4>\r\n                            <span className=\"country\">{origin_country[0]}</span>\r\n                            <p className=\"vote\">{vote_average} ★</p>\r\n                        </div>\r\n                        <div className=\"tvshow_desc\">\r\n                            <p className=\"text\">{overview}</p>\r\n                        </div>\r\n                        <div className=\"tvshow_fav\">\r\n                            <button className=\"add-to-fav\" onClick={() => {\r\n                                    isStored(isFavorite);\r\n                                }}>{isFavorite ? \"Remove from favorites\" : \"Add to favorites\"}</button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"blur_back\" style={{ backgroundImage: `url(https://image.tmdb.org/t/p/original${backdrop_path})`, width: 800, height: 400 }}></div>\r\n                </div> : <></>\r\n            }\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}