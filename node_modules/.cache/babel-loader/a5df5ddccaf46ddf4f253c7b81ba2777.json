{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\ayaul\\\\OneDrive\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\\\ReactFinal\\\\ReactFinalProject\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\ayaul\\\\OneDrive\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\\\ReactFinal\\\\ReactFinalProject\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useRef}from'react';import{Link}from'react-router-dom';import'../stylesheets/LoginPage.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginPage(props){var username=useRef(\"\");var password=useRef(\"\");function login(_x){return _login.apply(this,arguments);}function _login(){_login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return axios.get(\"https://reactfinal-b6792-default-rtdb.firebaseio.com/users.json\").then(function(response){var users=response.data;var found=false;for(var key in users){var _users$key,_username$current,_users$key2,_password$current;if(((_users$key=users[key])===null||_users$key===void 0?void 0:_users$key.username)===(username===null||username===void 0?void 0:(_username$current=username.current)===null||_username$current===void 0?void 0:_username$current.value)&&((_users$key2=users[key])===null||_users$key2===void 0?void 0:_users$key2.password)===(password===null||password===void 0?void 0:(_password$current=password.current)===null||_password$current===void 0?void 0:_password$current.value)){console.log(users[key]);props.setUser(users[key]);props.setLogged(true);found=true;}}if(!found){alert(\"Неправильный логин или пароль\");}});case 3:case\"end\":return _context.stop();}}},_callee);}));return _login.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"loginPage\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"loginPage__title\",children:\"Login Page\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"user-data\",children:[/*#__PURE__*/_jsx(\"input\",{ref:username,className:\"user-data__username\",type:\"text\",placeholder:\"username\"}),/*#__PURE__*/_jsx(\"input\",{ref:password,className:\"user-data__password\",type:\"password\",placeholder:\"password\"}),/*#__PURE__*/_jsx(\"button\",{onClick:login,className:\"login-button\",children:\"Log in\"}),/*#__PURE__*/_jsx(Link,{to:\"/sign-up\",children:\"\\u041D\\u0435\\u0442 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430? \\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u0443\\u0439\\u0441\\u044F \\u0441\\u0435\\u0439\\u0447\\u0430\\u0441\"})]})]});}export default LoginPage;","map":{"version":3,"sources":["C:/Users/ayaul/OneDrive/Документы/ReactFinal/ReactFinalProject/src/components/LoginPage.js"],"names":["useRef","Link","axios","LoginPage","props","username","password","login","e","preventDefault","get","then","response","users","data","found","key","current","value","console","log","setUser","setLogged","alert"],"mappings":"4ZAAA,OAASA,MAAT,KAAuB,OAAvB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,8BAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFACA,QAASC,CAAAA,SAAT,CAAmBC,KAAnB,CAA0B,CACtB,GAAMC,CAAAA,QAAQ,CAAGL,MAAM,CAAC,EAAD,CAAvB,CACA,GAAMM,CAAAA,QAAQ,CAAGN,MAAM,CAAC,EAAD,CAAvB,CAFsB,QAGPO,CAAAA,KAHO,2HAGtB,iBAAqBC,CAArB,kHACIA,CAAC,CAACC,cAAF,GADJ,sBAEUP,CAAAA,KAAK,CAACQ,GAAN,CAAU,iEAAV,EACLC,IADK,CACA,SAACC,QAAD,CAAc,CAChB,GAAMC,CAAAA,KAAK,CAAGD,QAAQ,CAACE,IAAvB,CACA,GAAIC,CAAAA,KAAK,CAAG,KAAZ,CACA,IAAI,GAAIC,CAAAA,GAAR,GAAeH,CAAAA,KAAf,CAAsB,gEAClB,GAAG,aAAAA,KAAK,CAACG,GAAD,CAAL,gDAAYX,QAAZ,KAAyBA,QAAzB,SAAyBA,QAAzB,oCAAyBA,QAAQ,CAAEY,OAAnC,4CAAyB,kBAAmBC,KAA5C,GAAqD,cAAAL,KAAK,CAACG,GAAD,CAAL,kDAAYV,QAAZ,KAAyBA,QAAzB,SAAyBA,QAAzB,oCAAyBA,QAAQ,CAAEW,OAAnC,4CAAyB,kBAAmBC,KAA5C,CAAxD,CAA0G,CACtGC,OAAO,CAACC,GAAR,CAAYP,KAAK,CAACG,GAAD,CAAjB,EACAZ,KAAK,CAACiB,OAAN,CAAcR,KAAK,CAACG,GAAD,CAAnB,EACAZ,KAAK,CAACkB,SAAN,CAAgB,IAAhB,EACAP,KAAK,CAAG,IAAR,CACH,CACJ,CACD,GAAG,CAACA,KAAJ,CAAW,CACPQ,KAAK,CAAC,+BAAD,CAAL,CACH,CACJ,CAfK,CAFV,uDAHsB,wCAuBtB,mBACQ,aAAK,SAAS,CAAC,WAAf,wBACI,WAAI,SAAS,CAAC,kBAAd,wBADJ,cAEI,cAAM,SAAS,CAAC,WAAhB,wBACI,cAAO,GAAG,CAAGlB,QAAb,CAAwB,SAAS,CAAC,qBAAlC,CAAwD,IAAI,CAAC,MAA7D,CAAoE,WAAW,CAAC,UAAhF,EADJ,cAEI,cAAO,GAAG,CAAGC,QAAb,CAAwB,SAAS,CAAC,qBAAlC,CAAwD,IAAI,CAAC,UAA7D,CAAwE,WAAW,CAAC,UAApF,EAFJ,cAGI,eAAQ,OAAO,CAAEC,KAAjB,CAAwB,SAAS,CAAC,cAAlC,oBAHJ,cAII,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,sMAJJ,GAFJ,GADR,CAWH,CAED,cAAeJ,CAAAA,SAAf","sourcesContent":["import { useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../stylesheets/LoginPage.css';\r\nimport axios from 'axios';\r\nfunction LoginPage(props) {\r\n    const username = useRef(\"\");\r\n    const password = useRef(\"\");\r\n    async function login(e) {\r\n        e.preventDefault();\r\n        await axios.get(\"https://reactfinal-b6792-default-rtdb.firebaseio.com/users.json\")\r\n        .then((response) => {\r\n            const users = response.data;\r\n            let found = false;\r\n            for(let key in users) {\r\n                if(users[key]?.username === username?.current?.value && users[key]?.password === password?.current?.value){\r\n                    console.log(users[key]);\r\n                    props.setUser(users[key]);\r\n                    props.setLogged(true);\r\n                    found = true;\r\n                }\r\n            }\r\n            if(!found) {\r\n                alert(\"Неправильный логин или пароль\");\r\n            }\r\n        });\r\n    }\r\n\r\n    return (\r\n            <div className=\"loginPage\">\r\n                <h1 className='loginPage__title'>Login Page</h1>\r\n                <form className=\"user-data\">\r\n                    <input ref={ username } className=\"user-data__username\" type=\"text\" placeholder=\"username\"/>\r\n                    <input ref={ password } className=\"user-data__password\" type=\"password\" placeholder=\"password\"/>\r\n                    <button onClick={login} className=\"login-button\">Log in</button>\r\n                    <Link to=\"/sign-up\">Нет аккаунта? Регистрируйся сейчас</Link>\r\n                </form>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}