{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ayaul\\\\OneDrive\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\\\ReactFinal\\\\ReactFinalProject\\\\src\\\\components\\\\SignUpPage.js\",\n    _s = $RefreshSig$();\n\nimport { useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../stylesheets/SignUpPage.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SignUpPage(props) {\n  _s();\n\n  const username = useRef(\"\");\n  const password = useRef(\"\");\n\n  async function signUp(e) {\n    var _username$current, _password$current;\n\n    e.preventDefault();\n    let found = false;\n    const username_input = (_username$current = username.current) === null || _username$current === void 0 ? void 0 : _username$current.value;\n    const password_input = (_password$current = password.current) === null || _password$current === void 0 ? void 0 : _password$current.value;\n\n    if (username_input.length >= 4 && password_input.length >= 4) {\n      await axios.get('https://reactfinal-b6792-default-rtdb.firebaseio.com/users.json').then(response => {\n        const users = response.data;\n\n        for (let key in users) {\n          if (users[key].username === username_input && !found) {\n            alert(\"Такой пользователь уже существует\");\n            found = true;\n            break;\n          }\n        }\n      });\n\n      if (found === false) {\n        const user = {\n          username: username_input,\n          password: password_input\n        };\n        await axios.post('https://reactfinal-b6792-default-rtdb.firebaseio.com/users.json', user).then(response => {\n          props.setUser(user);\n          props.setLogged(true);\n          alert(\"Регистрация прошла успешна\");\n        });\n      }\n    } else {\n      if (username.current.value.length < 4) {\n        alert(\"Слишком короткое имя\");\n      } else if (password.current.value.length < 4) {\n        alert(\"Ненадежный пароль! Введите больше 4 символов\");\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"signUpPage\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"signUpPage__title\",\n      children: \"Sign Up Page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"user-data\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        required: true,\n        ref: username,\n        className: \"user-data__username\",\n        type: \"text\",\n        placeholder: \"username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        required: true,\n        ref: password,\n        className: \"user-data__password\",\n        type: \"password\",\n        placeholder: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: signUp,\n        className: \"sign-up-button\",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        children: \"\\u0423\\u0436\\u0435 \\u0435\\u0441\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SignUpPage, \"Bh9XDURYg6+jFrpOfuWmxOpC3VU=\");\n\n_c = SignUpPage;\nexport default SignUpPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUpPage\");","map":{"version":3,"sources":["C:/Users/ayaul/OneDrive/Документы/ReactFinal/ReactFinalProject/src/components/SignUpPage.js"],"names":["useRef","Link","axios","SignUpPage","props","username","password","signUp","e","preventDefault","found","username_input","current","value","password_input","length","get","then","response","users","data","key","alert","user","post","setUser","setLogged"],"mappings":";;;AAAA,SAASA,MAAT,QAAsB,OAAtB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,+BAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AAAA;;AACvB,QAAMC,QAAQ,GAAGL,MAAM,CAAC,EAAD,CAAvB;AACA,QAAMM,QAAQ,GAAGN,MAAM,CAAC,EAAD,CAAvB;;AACA,iBAAeO,MAAf,CAAsBC,CAAtB,EAAyB;AAAA;;AACrBA,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIC,KAAK,GAAG,KAAZ;AACA,UAAMC,cAAc,wBAAGN,QAAQ,CAACO,OAAZ,sDAAG,kBAAkBC,KAAzC;AACA,UAAMC,cAAc,wBAAGR,QAAQ,CAACM,OAAZ,sDAAG,kBAAkBC,KAAzC;;AACA,QAAGF,cAAc,CAACI,MAAf,IAAuB,CAAvB,IAA4BD,cAAc,CAACC,MAAf,IAAuB,CAAtD,EAAyD;AACrD,YAAMb,KAAK,CAACc,GAAN,CAAU,iEAAV,EACLC,IADK,CACCC,QAAD,IAAc;AAChB,cAAMC,KAAK,GAAGD,QAAQ,CAACE,IAAvB;;AACA,aAAI,IAAIC,GAAR,IAAeF,KAAf,EAAsB;AAClB,cAAGA,KAAK,CAACE,GAAD,CAAL,CAAWhB,QAAX,KAAwBM,cAAxB,IAA0C,CAACD,KAA9C,EAAqD;AACjDY,YAAAA,KAAK,CAAC,mCAAD,CAAL;AACAZ,YAAAA,KAAK,GAAG,IAAR;AACA;AACH;AACJ;AACJ,OAVK,CAAN;;AAYA,UAAGA,KAAK,KAAK,KAAb,EAAoB;AAChB,cAAMa,IAAI,GAAG;AACTlB,UAAAA,QAAQ,EAAEM,cADD;AAETL,UAAAA,QAAQ,EAAEQ;AAFD,SAAb;AAIA,cAAMZ,KAAK,CAACsB,IAAN,CAAW,iEAAX,EACUD,IADV,EAEJN,IAFI,CAECC,QAAQ,IAAI;AACfd,UAAAA,KAAK,CAACqB,OAAN,CAAcF,IAAd;AACAnB,UAAAA,KAAK,CAACsB,SAAN,CAAgB,IAAhB;AACAJ,UAAAA,KAAK,CAAC,4BAAD,CAAL;AACH,SANK,CAAN;AAOH;AACJ,KA1BD,MA2BK;AACD,UAAGjB,QAAQ,CAACO,OAAT,CAAiBC,KAAjB,CAAuBE,MAAvB,GAA8B,CAAjC,EAAoC;AAChCO,QAAAA,KAAK,CAAC,sBAAD,CAAL;AACH,OAFD,MAGK,IAAIhB,QAAQ,CAACM,OAAT,CAAiBC,KAAjB,CAAuBE,MAAvB,GAA8B,CAAlC,EAAoC;AACrCO,QAAAA,KAAK,CAAC,8CAAD,CAAL;AACH;AACJ;AACJ;;AACD,sBACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA,4BACA;AAAI,MAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,eAEA;AAAM,MAAA,SAAS,EAAC,WAAhB;AAAA,8BACI;AAAO,QAAA,QAAQ,MAAf;AAAgB,QAAA,GAAG,EAAEjB,QAArB;AAA+B,QAAA,SAAS,EAAC,qBAAzC;AAA+D,QAAA,IAAI,EAAC,MAApE;AAA2E,QAAA,WAAW,EAAC;AAAvF;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAO,QAAA,QAAQ,MAAf;AAAgB,QAAA,GAAG,EAAEC,QAArB;AAA+B,QAAA,SAAS,EAAC,qBAAzC;AAA+D,QAAA,IAAI,EAAC,UAApE;AAA+E,QAAA,WAAW,EAAC;AAA3F;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAQ,QAAA,OAAO,EAAEC,MAAjB;AAAyB,QAAA,SAAS,EAAC,gBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAWH;;GAvDQJ,U;;KAAAA,U;AAyDT,eAAeA,UAAf","sourcesContent":["import { useRef} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../stylesheets/SignUpPage.css';\r\nimport axios from 'axios';\r\n\r\nfunction SignUpPage(props) {\r\n    const username = useRef(\"\");\r\n    const password = useRef(\"\");\r\n    async function signUp(e) {\r\n        e.preventDefault();\r\n        let found = false;\r\n        const username_input = username.current?.value;\r\n        const password_input = password.current?.value;\r\n        if(username_input.length>=4 && password_input.length>=4) {\r\n            await axios.get('https://reactfinal-b6792-default-rtdb.firebaseio.com/users.json')\r\n            .then((response) => {\r\n                const users = response.data;\r\n                for(let key in users) {\r\n                    if(users[key].username === username_input && !found) {\r\n                        alert(\"Такой пользователь уже существует\");\r\n                        found = true;\r\n                        break;\r\n                    }\r\n                }\r\n            });\r\n\r\n            if(found === false) {\r\n                const user = {   \r\n                    username: username_input,\r\n                    password: password_input,\r\n                };\r\n                await axios.post('https://reactfinal-b6792-default-rtdb.firebaseio.com/users.json',\r\n                                user\r\n                ).then(response => {\r\n                    props.setUser(user);\r\n                    props.setLogged(true);\r\n                    alert(\"Регистрация прошла успешна\");\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            if(username.current.value.length<4) {\r\n                alert(\"Слишком короткое имя\");\r\n            }\r\n            else if (password.current.value.length<4){\r\n                alert(\"Ненадежный пароль! Введите больше 4 символов\");\r\n            }\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"signUpPage\">\r\n        <h1 className='signUpPage__title'>Sign Up Page</h1>\r\n        <form className=\"user-data\">\r\n            <input required ref={username} className=\"user-data__username\" type=\"text\" placeholder=\"username\"/>\r\n            <input required ref={password} className=\"user-data__password\" type=\"password\" placeholder=\"password\"/>\r\n            <button onClick={signUp} className=\"sign-up-button\">Sign Up</button>\r\n            <Link to=\"/login\">Уже есть аккаунт?</Link>\r\n        </form>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default SignUpPage;"]},"metadata":{},"sourceType":"module"}